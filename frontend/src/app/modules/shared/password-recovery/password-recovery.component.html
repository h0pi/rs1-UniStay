<div *ngIf="step===1">
  <h3>Password recovery</h3>
  <input type="email" [(ngModel)]="email" #em placeholder="Email" />
  <button (click)="start(em.value)">Continue with security questions</button>
  <button (click)="sendViaEmail()">Send email token</button>
</div>

<div *ngIf="step===2">
  <h3>Answer security questions</h3>
  <form [formGroup]="answersForm" (ngSubmit)="submitAnswers()">
    <div *ngFor="let q of questions">
      <label>{{q.question}}</label>
      <input [formControlName]="'q'+q.questionId" />
    </div>
    <button type="submit">Verify</button>
  </form>
</div>

<div *ngIf="step===3">
  <h3>Enter new password</h3>
  <form [formGroup]="resetForm" (ngSubmit)="resetPassword()">
    <label>Token (from email or auto)</label>
    <input formControlName="token" />
    <label>New password</label>
    <input type="password" formControlName="newPassword" />
    <label>Confirm</label>
    <input type="password" formControlName="confirm" />
    <button type="submit">Reset password</button>
  </form>
</div>